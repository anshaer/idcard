<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVG 圖案展示與控制</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f9;
            color: #333;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
        }

        #controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-bottom: 40px;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 40px;
        }

        .svg-display {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            text-align: center;
            width: 500px;
            max-width: 90%;
        }

        .svg-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100px; /* 這裡的固定高度確保容器不會隨 SVG 尺寸變化 */
            margin-bottom: 20px;
        }

        pre {
            background-color: #f0f0f0;
            border: 1px solid #ccc;
            padding: 15px;
            white-space: pre-wrap;
            word-wrap: break-word;
            text-align: left;
            margin-top: 15px;
            font-size: 14px;
            line-height: 1.5;
            overflow-x: auto;
            position: relative;
        }
        
        pre code {
            display: block;
        }

        .copy-btn {
            margin-top: 10px;
            padding: 8px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .copy-btn:hover {
            background-color: #0056b3;
        }

        #sizeValue {
            font-weight: bold;
            min-width: 30px;
            text-align: center;
        }
    </style>
</head>
<body>

    <h1>SVG 圖案展示與控制</h1>

    <div id="controls">
        <div class="control-group">
            <label for="colorPicker">統一調整顏色：</label>
            <input type="color" id="colorPicker" value="#76DBF4">
            <button id="resetColor">重置顏色</button>
        </div>
        <div class="control-group">
            <label for="sizeSlider">調整尺寸：</label>
            <input type="range" id="sizeSlider" min="20" max="100" value="38">
            <span id="sizeValue">38</span>px
        </div>
    </div>

    <div class="container">
        <div class="svg-display">
            <h2>圖案 1</h2>
            <div class="svg-wrapper">
                <svg id="svg1" class="color-changeable" width="38" height="38" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" overflow="hidden">
                    <g transform="translate(-905 -35)">
                        <path d="M939.11 46.248C939.132 46.5821 939.132 46.9178 939.132 47.255 939.132 57.5578 931.288 69.4375 916.949 69.4375L916.949 69.4312C912.714 69.4375 908.566 68.2247 905 65.9368 905.616 66.0112 906.235 66.0476 906.856 66.0492 910.367 66.0523 913.778 64.8743 916.538 62.7052 913.202 62.6418 910.276 60.4663 909.254 57.2902 910.423 57.515 911.626 57.4691 912.774 57.1572 909.136 56.4225 906.52 53.2257 906.52 49.5144 906.52 49.4812 906.52 49.4479 906.52 49.4162 907.605 50.0211 908.817 50.3552 910.059 50.3916 906.632 48.1037 905.575 43.5468 907.644 39.9843 911.602 44.8547 917.443 47.8155 923.712 48.1306 923.083 45.4231 923.943 42.5858 925.966 40.681 929.106 37.7281 934.045 37.8801 936.998 41.0198 938.744 40.6763 940.418 40.035 941.949 39.1278 941.366 40.9328 940.148 42.4654 938.521 43.4408 940.068 43.2555 941.577 42.8423 943 42.2121 941.953 43.778 940.636 45.1444 939.11 46.248Z" fill="#76DBF4"/>
                    </g>
                </svg>
            </div>
            <h3>SVG 程式碼</h3>
            <pre><code id="svgCode1"></code></pre>
            <button class="copy-btn" onclick="copyCode('svgCode1')">複製程式碼</button>
        </div>

        <div class="svg-display">
            <h2>圖案 2</h2>
            <div class="svg-wrapper">
                <svg id="svg2" class="color-changeable" width="38" height="38" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" overflow="hidden">
                    <g transform="translate(-905 -35)">
                        <path d="M939.11 46.248C939.132 46.5821 939.132 46.9178 939.132 47.255 939.132 57.5578 931.288 69.4375 916.949 69.4375L916.949 69.4312C912.714 69.4375 908.566 68.2247 905 65.9368 905.616 66.0112 906.235 66.0476 906.856 66.0492 910.367 66.0523 913.778 64.8743 916.538 62.7052 913.202 62.6418 910.276 60.4663 909.254 57.2902 910.423 57.515 911.626 57.4691 912.774 57.1572 909.136 56.4225 906.52 53.2257 906.52 49.5144 906.52 49.4812 906.52 49.4479 906.52 49.4162 907.605 50.0211 908.817 50.3552 910.059 50.3916 906.632 48.1037 905.575 43.5468 907.644 39.9843 911.602 44.8547 917.443 47.8155 923.712 48.1306 923.083 45.4231 923.943 42.5858 925.966 40.681 929.106 37.7281 934.045 37.8801 936.998 41.0198 938.744 40.6763 940.418 40.035 941.949 39.1278 941.366 40.9328 940.148 42.4654 938.521 43.4408 940.068 43.2555 941.577 42.8423 943 42.2121 941.953 43.778 940.636 45.1444 939.11 46.248Z" fill="#76DBF4"/>
                    </g>
                </svg>
            </div>
            <h3>SVG 程式碼</h3>
            <pre><code id="svgCode2"></code></pre>
            <button class="copy-btn" onclick="copyCode('svgCode2')">複製程式碼</button>
        </div>

        <div class="svg-display">
            <h2>圖案 3</h2>
            <div class="svg-wrapper">
                <svg id="svg3" class="color-changeable" width="38" height="38" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" overflow="hidden">
                    <g transform="translate(-905 -35)">
                        <path d="M939.11 46.248C939.132 46.5821 939.132 46.9178 939.132 47.255 939.132 57.5578 931.288 69.4375 916.949 69.4375L916.949 69.4312C912.714 69.4375 908.566 68.2247 905 65.9368 905.616 66.0112 906.235 66.0476 906.856 66.0492 910.367 66.0523 913.778 64.8743 916.538 62.7052 913.202 62.6418 910.276 60.4663 909.254 57.2902 910.423 57.515 911.626 57.4691 912.774 57.1572 909.136 56.4225 906.52 53.2257 906.52 49.5144 906.52 49.4812 906.52 49.4479 906.52 49.4162 907.605 50.0211 908.817 50.3552 910.059 50.3916 906.632 48.1037 905.575 43.5468 907.644 39.9843 911.602 44.8547 917.443 47.8155 923.712 48.1306 923.083 45.4231 923.943 42.5858 925.966 40.681 929.106 37.7281 934.045 37.8801 936.998 41.0198 938.744 40.6763 940.418 40.035 941.949 39.1278 941.366 40.9328 940.148 42.4654 938.521 43.4408 940.068 43.2555 941.577 42.8423 943 42.2121 941.953 43.778 940.636 45.1444 939.11 46.248Z" fill="#76DBF4"/>
                    </g>
                </svg>
            </div>
            <h3>SVG 程式碼</h3>
            <pre><code id="svgCode3"></code></pre>
            <button class="copy-btn" onclick="copyCode('svgCode3')">複製程式碼</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const colorPicker = document.getElementById('colorPicker');
            const resetColorButton = document.getElementById('resetColor');
            const sizeSlider = document.getElementById('sizeSlider');
            const sizeValueSpan = document.getElementById('sizeValue');
            const initialDefaultColor = "#76DBF4";
            const initialDefaultSize = 38;

            const svgElements = [
                { svg: document.getElementById('svg1'), codeElement: document.getElementById('svgCode1') },
                { svg: document.getElementById('svg2'), codeElement: document.getElementById('svgCode2') },
                { svg: document.getElementById('svg3'), codeElement: document.getElementById('svgCode3') }
            ];

            // 輔助函數：將 HTML 特殊字符轉義
            function escapeHtml(html) {
                const div = document.createElement('div');
                div.appendChild(document.createTextNode(html));
                return div.innerHTML;
            }

            // 輔助函數：更新 SVG 的填充顏色、尺寸和其程式碼顯示
            function updateSvg(color, size) {
                svgElements.forEach(item => {
                    const path = item.svg.querySelector('path');
                    if (path) {
                        path.setAttribute('fill', color);
                    }
                    
                    item.svg.setAttribute('width', size);
                    item.svg.setAttribute('height', size);

                    // 獲取 SVG 元素的原始外層 HTML
                    let svgOuterHTML = item.svg.outerHTML;
                    
                    // 替換 fill 屬性值
                    svgOuterHTML = svgOuterHTML.replace(/fill="([^"]*?)"/g, `fill="${color}"`);
                    
                    // 替換 width 和 height 屬性值
                    svgOuterHTML = svgOuterHTML.replace(/width="([^"]*?)"/g, `width="${size}"`);
                    svgOuterHTML = svgOuterHTML.replace(/height="([^"]*?)"/g, `height="${size}"`);

                    item.codeElement.innerHTML = escapeHtml(svgOuterHTML);
                });
            }

            // 初始設定
            sizeSlider.value = initialDefaultSize;
            sizeValueSpan.textContent = initialDefaultSize;
            updateSvg(initialDefaultColor, initialDefaultSize);

            // 監聽顏色選擇器變化
            colorPicker.addEventListener('input', (event) => {
                const newColor = event.target.value;
                const currentSize = sizeSlider.value;
                updateSvg(newColor, currentSize);
            });

            // 監聽尺寸滑動條變化
            sizeSlider.addEventListener('input', (event) => {
                const newSize = event.target.value;
                sizeValueSpan.textContent = newSize;
                const currentColor = colorPicker.value;
                updateSvg(currentColor, newSize);
            });

            // 監聽重置按鈕點擊
            resetColorButton.addEventListener('click', () => {
                colorPicker.value = initialDefaultColor;
                sizeSlider.value = initialDefaultSize;
                sizeValueSpan.textContent = initialDefaultSize;
                updateSvg(initialDefaultColor, initialDefaultSize);
            });
        });

        // 全域函數：複製程式碼到剪貼簿
        function copyCode(codeElementId) {
            const codeElement = document.getElementById(codeElementId);
            const textToCopy = codeElement.textContent;
            
            navigator.clipboard.writeText(textToCopy).then(() => {
                alert('程式碼已複製到剪貼簿！');
            }).catch(err => {
                console.error('複製失敗: ', err);
                alert('複製失敗，請手動選取程式碼。');
            });
        }
    </script>

</body>
</html>
